import{k as L,c as v,o as j,W as m,X as u,Y as i,U as e,_ as t,Q as o,$ as p,a3 as V,j as h,A,F as M,a4 as D,Z as k,H as w}from"./vue-vendor-Zc8KthId.js";import{u as U}from"./chat-DfSn68VW.js";import{C as G}from"./ChatbubblesOutline-DW6Z8fY4.js";import{M as Q,C as H,T as W}from"./MenuFoldOutlined-BlNiundU.js";import{F as X,G as Y,N as Z,B as J,l as K,m as R,P as ee,Q as te,S as ae,_ as oe}from"./ui-vendor-D13i6_Ys.js";import{C as se,E as ne}from"./EditOutlined-DLIgbPlx.js";import{C as re,a as N}from"./CloseOutline-CVAvdo38.js";import{b as le}from"./index-DqO_OEbo.js";import"./utils-vendor-lGwZSMVs.js";const ie={class:"slidebar-content w-240px h-full flex flex-col bg-white/90 dark:bg-dark/90 backdrop-blur-xl border-r border-gray-100/50 dark:border-gray-800/50 transition-all duration-300 ease-out"},ce={class:"flex-none px-4 h-16 flex items-center justify-between backdrop-blur-sm border-b border-gray-100/50 dark:border-gray-800/50"},de={class:"flex items-center gap-2.5 text-gray-800 dark:text-gray-100"},ue={class:"text-[16px] font-medium tracking-wide"},pe={key:0,class:"flex flex-col items-center justify-center h-[calc(100vh-280px)]"},_e={class:"text-5xl text-gray-300 mb-2"},he={class:"flex flex-col gap-2 p-3"},me={class:"flex gap-1.5 mr-1"},fe={class:"flex items-center gap-3 flex-1 min-w-0"},ve={class:"flex-1 w-60%"},xe={class:"flex-none flex justify-end gap-1.5 opacity-0 group-hover:opacity-100 transition-all duration-300"},ge={class:"flex-none p-4 border-t border-gray-100/50 dark:border-gray-800/50"},ye=L({__name:"sidebar copy",setup(be){const T=X(),x=Y(),s=U(),z=v(()=>s.showSidebar),g=v(()=>s.chatList);j(async()=>{s.queryChatList()});function S(){s.showSidebar=!1}function y(){const a={chatName:"新建对话"};s.createChat(a)}async function $({chatId:a}){C(a)||await s.setActive(a)}function b(a,_,n){if(n?.stopPropagation(),a.isEdit=_,!_){const{chatId:r,chatName:f}=a;s.updateChat({chatId:r,chatName:f})}}function F(a,_){_?.stopPropagation(),s.removeChat(a.chatId)}function C(a){return s.activeId===a}function O(){if(!s.chatList.length){x.warning("当前没有对话");return}T.warning({title:"清空",content:"您确定要清空对话吗",positiveText:"确定",negativeText:"取消",onPositiveClick:()=>{s.clearChatList().then(()=>{x.success("清空成功")})}})}const d=v(()=>({enter:"transition-all duration-300 ease-out",leave:"transition-all duration-200 ease-in",enterFrom:"opacity-0 -translate-x-4",enterTo:"opacity-100 translate-x-0",leaveFrom:"opacity-100 translate-x-0",leaveTo:"opacity-0 -translate-x-4"}));return(a,_)=>{const n=Z,r=J,f=K,E=R,P=ee,q=te,B=ae,I=oe;return u(),m("div",{class:w(["slidebar shadow-lg overflow-hidden",[o(z)?"w-240px":"w-0"]])},[i("div",ie,[i("div",ce,[i("div",de,[e(n,{size:"24",class:"text-primary-500"},{default:t(()=>[e(o(G))]),_:1}),i("span",ue,p(a.$t("chat.historyChat")),1)]),e(r,{quaternary:"",circle:"",class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 transition-colors",onClick:S},{icon:t(()=>[e(n,null,{default:t(()=>[e(o(Q))]),_:1})]),_:1})]),e(B,{class:"flex-1"},{default:t(()=>[o(g).length?V("",!0):(u(),m("div",pe,[e(f,{class:"animate-fade-in",description:a.$t("chat.noChats")},{icon:t(()=>[i("div",_e,[e(n,null,{default:t(()=>[e(o(se))]),_:1})])]),extra:t(()=>[e(r,{type:"primary",size:"small",class:"mt-4 px-6 rounded-lg transition-colors hover:opacity-90",onClick:y},{default:t(()=>[h(p(a.$t("chat.createChat")),1)]),_:1})]),_:1},8,["description"])])),i("div",he,[e(r,{type:"primary",size:"small",class:"px-6 rounded-lg transition-colors hover:opacity-90",onClick:y},{default:t(()=>[h(p(a.$t("chat.createChat")),1)]),_:1}),e(A,{"enter-active-class":o(d).enter,"leave-active-class":o(d).leave,"enter-from-class":o(d).enterFrom,"enter-to-class":o(d).enterTo,"leave-from-class":o(d).leaveFrom,"leave-to-class":o(d).leaveTo},{default:t(()=>[(u(!0),m(M,null,D(o(g),l=>(u(),m("div",{key:l.chatId},[l.isEdit?(u(),k(E,{key:0,value:l.chatName,"onUpdate:value":c=>l.chatName=c,size:"large",class:"h-10 rounded-lg"},{suffix:t(()=>[i("div",me,[e(r,{quaternary:"",circle:"",size:"small",class:"hover:text-primary-600 transition-colors",onClick:c=>b(l,!1,c)},{icon:t(()=>[e(n,null,{default:t(()=>[e(o(re))]),_:1})]),_:2},1032,["onClick"]),e(r,{quaternary:"",circle:"",size:"small",class:"hover:text-gray-600 transition-colors",onClick:c=>l.isEdit=!1},{icon:t(()=>[e(n,null,{default:t(()=>[e(o(N))]),_:1})]),_:2},1032,["onClick"])])]),_:2},1032,["value","onUpdate:value"])):(u(),k(r,{key:1,block:"",text:"",class:w(["h-12 px-3 justify-start rounded-lg transition-all duration-300 hover:bg-primary/8 hover:transform hover:translate-x-1 dark:hover:bg-gray-800/80 group",C(l.chatId)&&"bg-primary/12 text-primary-600 shadow-sm"]),onClick:c=>$(l)},{default:t(()=>[i("div",fe,[e(n,{size:"18",class:"flex-none"},{default:t(()=>[e(o(H))]),_:1}),i("div",ve,[e(P,{tooltip:!1,class:"text-[14px] font-medium w-full"},{default:t(()=>[h(p(l.chatName),1)]),_:2},1024)]),i("div",xe,[e(r,{quaternary:"",circle:"",size:"small",class:"hover:text-primary-600 transition-colors",onClick:c=>b(l,!0,c)},{icon:t(()=>[e(n,null,{default:t(()=>[e(o(ne))]),_:1})]),_:2},1032,["onClick"]),e(q,{placement:"top",onPositiveClick:c=>F(l,c)},{trigger:t(()=>[e(r,{quaternary:"",circle:"",size:"small",class:"hover:text-error transition-colors"},{icon:t(()=>[e(n,null,{default:t(()=>[e(o(N))]),_:1})]),_:1})]),default:t(()=>[h(" "+p(a.$t("chat.removeConfirm")),1)]),_:2},1032,["onPositiveClick"])])])]),_:2},1032,["class","onClick"]))]))),128))]),_:1},8,["enter-active-class","leave-active-class","enter-from-class","enter-to-class","leave-from-class","leave-to-class"])])]),_:1}),i("div",ge,[e(I,{placement:"top"},{trigger:t(()=>[e(r,{circle:"",class:"h-8 rounded-xl font-medium transition-all duration-300 transform hover:-translate-y-0.5 shadow hover:shadow-lg",onClick:O},{icon:t(()=>[e(n,{class:"text-[18px]"},{default:t(()=>[e(o(W))]),_:1})]),_:1})]),default:t(()=>[h(" "+p(a.$t("chat.clearChat")),1)]),_:1})])])],2)}}}),Oe=le(ye,[["__scopeId","data-v-79b0696d"]]);export{Oe as default};
